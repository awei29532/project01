(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{XFGk:function(t,a,e){"use strict";e.r(a);var s={data:function(){return{gameItems:{},fields:[{key:"#",thStyle:{width:"40px"},class:"text-center"},{key:"provider_name",sortable:!0,label:this.trans("games.provider"),thClass:"text-center",thStyle:{minWidth:"70px"}},{key:"game_code",label:this.trans("games.game_code"),thClass:"text-center",thStyle:{minWidth:"105px"}},{key:"name",sortable:!0,label:this.trans("common.name"),thClass:"text-center",thStyle:{minWidth:"55px"}},{key:"has_fun",label:this.trans("games.has_fun_col"),class:"table-col-status"},{key:"status",sortable:!0,label:this.trans("common.status"),class:"table-col-status"},{key:"updated_at",sortable:!0,label:this.trans("common.updated_at"),class:"table-col-time"},{key:"created_at",sortable:!0,label:this.trans("common.created_at"),class:"table-col-time"}],isLoading:!1,searchData:{name:"",status:"all",has_fun:"all",providers:[]},providerOptions:this.getJsonData("provider-list")}},mounted:function(){var t=this;this.providerOptions.forEach(function(a){t.searchData.providers.push(a.id)}),this.search()},methods:{search:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;this.isLoading||(this.isLoading=!0,this.searchData.page=a,this.searchData.perPage=Number(e),this.$ajax("POST","/api/products/game/list",this.searchData).then(function(a){t.gameItems=a,t.isLoading=!1}).catch(function(t){console.error(t)}))},providerOnChange:function(t){var a=this;this.searchData.providers=[],t?this.searchData.providers.push(t):this.providerOptions.forEach(function(t){a.searchData.providers.push(t.id)})},enabled:function(t,a){var e=this;this.$ajax("POST","/api/products/game/toggle-enabled",{id:t,enabled:a}).then(function(s){e.gameItems.data.filter(function(a){return a.id==t})[0].status=a}).catch(function(t){console.error(t)})}}},n=e("KHd+"),r=Object(n.a)(s,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[e("list-grid",{attrs:{data:t.gameItems,search:t.search}},[e("template",{slot:"search-form"},[t.user.isAdmin?e("a",{staticClass:"btn btn-info mr-2 mb-1",attrs:{href:"/products/game-edit/"}},[t._v(t._s(t.trans("common.add")))]):t._e(),t._v(" "),e("b-input-group",{staticClass:"mr-2 mb-1",attrs:{prepend:t.trans("common.name")}},[e("b-input",{model:{value:t.searchData.name,callback:function(a){t.$set(t.searchData,"name",a)},expression:"searchData.name"}})],1),t._v(" "),e("b-input-group",{staticClass:"mr-2 mb-1",attrs:{prepend:t.trans("common.status")}},[e("b-form-select",{model:{value:t.searchData.status,callback:function(a){t.$set(t.searchData,"status",a)},expression:"searchData.status"}},[e("option",{attrs:{value:"all"}},[t._v(t._s(t.trans("common.all")))]),t._v(" "),e("option",{attrs:{value:"1"}},[t._v(t._s(t.trans("common.active")))]),t._v(" "),e("option",{attrs:{value:"0"}},[t._v(t._s(t.trans("common.suspended")))])])],1),t._v(" "),e("b-input-group",{staticClass:"mr-2 mb-1",attrs:{prepend:t.trans("games.has_fun_col")}},[e("b-form-select",{model:{value:t.searchData.has_fun,callback:function(a){t.$set(t.searchData,"has_fun",a)},expression:"searchData.has_fun"}},[e("option",{attrs:{value:"all"}},[t._v(t._s(t.trans("common.all")))]),t._v(" "),e("option",{attrs:{value:"1"}},[t._v(t._s(t.trans("games.has_fun")))]),t._v(" "),e("option",{attrs:{value:"0"}},[t._v(t._s(t.trans("games.not_has_fun")))])])],1),t._v(" "),e("b-input-group",{staticClass:"mr-2 mb-1",attrs:{prepend:t.trans("games.provider")}},[e("b-form-select",{attrs:{value:""},nativeOn:{change:function(a){return t.providerOnChange(a.target.value)}}},[e("option",{attrs:{value:""}},[t._v(t._s(t.trans("common.all")))]),t._v(" "),t._l(t.providerOptions,function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v("\n                                "+t._s(a.name)+"\n                        ")])})],2)],1)],1),t._v(" "),e("template",{slot:"table"},[e("b-table",{attrs:{responsive:"",bordered:"",striped:"",small:"",items:t.gameItems.data,busy:t.isLoading,fields:t.fields,"show-empty":"","empty-text":t.trans("common.empty-data")},scopedSlots:t._u([{key:"#",fn:function(a){return[t._v("\n                        "+t._s(a.index+1+t.gameItems.perPage*(t.gameItems.page-1))+"\n                    ")]}},{key:"game_code",fn:function(a){return[e("a",{attrs:{href:"/products/game-edit/"+a.item.id}},[t._v(t._s(a.item.game_code))])]}},{key:"status",fn:function(a){return[e("button",{class:"btn-pill btn-sm btn-"+(a.item.status?"success":"danger"),on:{click:function(e){return t.enabledDialog(a.item.id,a.item.name,a.item.status,t.enabled)}}},[t._v("\n                                "+t._s(t.trans("common."+(a.item.status?"active":"suspended")))+"\n                        ")])]}},{key:"has_fun",fn:function(a){return[e("span",{class:"badge badge-"+(1==a.item.has_fun?"success":"danger")},[t._v("\n                            "+t._s(t.trans("games."+(1==a.item.has_fun?"has_fun":"not_has_fun")))+"\n                        ")])]}}])},[e("loading",{attrs:{slot:"table-busy"},slot:"table-busy"})],1)],1)],2)],1)},[],!1,null,null,null);a.default=r.exports}}]);