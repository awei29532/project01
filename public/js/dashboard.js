(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{KS4d:function(a,t,r){"use strict";r.r(t);var e=r("aetl"),s=r("/h9T"),n=r("/Tr7");function o(a,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object(n.a)(a),e=Object(s.a)(t);return r.setDate(r.getDate()+e),r}var l=r("sWYD"),i=r("9ig3"),c=r("jKzE");function d(a,t){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})),r.push.apply(r,e)}return r}function u(a){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(r,!0).forEach(function(t){b(a,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):d(r).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(r,t))})}return a}function b(a,t,r){return t in a?Object.defineProperty(a,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[t]=r,a}var v={data:function(){return{lineData:{labels:[],datasets:[{label:this.trans("dashboard.players"),data:[]}]},currencys:this.getJsonData("currencys"),players:this.getJsonData("players"),profit:this.getJsonData("profit"),barData:[],labels:{day:[],week:[],month:[]},memberCountsType:"day",reportType:"day"}},watch:{memberCountsType:function(a){this.changeMemberType(a)},reportType:function(a){this.changeReportType(a)}},mounted:function(){for(var a=0;a<=23;a++)this.labels.day.push(a);for(var t=new Date("2019-07-01"),r=Object(e.a)(t),s=0;s<=6;s++){var n=o(r,s);this.labels.week.push(Object(l.a)(n,"MM/dd (EEE)"))}for(var d=Object(i.a)(t),u=Object(l.a)(Object(c.a)(t),"d"),b=0;b<u;b++){var v=o(d,b);this.labels.month.push(Object(l.a)(v,"MM/dd"))}var h=!0,y=!1,p=void 0;try{for(var f,m=this.currencys[Symbol.iterator]();!(h=(f=m.next()).done);h=!0){var _=f.value;this.barData.push({currency:_,labels:[],datasets:[{label:this.trans("dashboard.stake"),data:[],backgroundColor:"#3097D1",key:"stake"},{label:this.trans("dashboard.payout"),data:[],backgroundColor:"#2ab27b",key:"payout"},{label:this.trans("dashboard.win"),data:[],backgroundColor:"#bf5329",key:"win"}]})}}catch(a){y=!0,p=a}finally{try{h||null==m.return||m.return()}finally{if(y)throw p}}this.changeMemberType("day"),this.changeReportType("day")},methods:{changeMemberType:function(a){var t=this;this.$ajax("POST","/api/dashboard/player-chart",{type:a}).then(function(r){var e=t.handleData(a,t.labels[a],r);t.lineData.datasets[0].data=e.members,t.lineData=u({},t.lineData,{labels:t.labels[a]})})},changeReportType:function(a){var t=this;this.$ajax("POST","/api/dashboard/profit-chart",{type:a}).then(function(r){var e=!0,s=!1,n=void 0;try{for(var o,l=r[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){var i=o.value,c=t.handleData(a,t.labels[a],i.data);for(var d in t.barData)if(t.barData[d].currency==i.currency){for(var b in t.barData[d].datasets){var v=t.barData[d].datasets[b].key;t.barData[d].datasets[b].data=c[v]}t.barData[d]=u({},t.barData[d],{labels:t.labels[a]})}}}catch(a){s=!0,n=a}finally{try{e||null==l.return||l.return()}finally{if(s)throw n}}t.barData=u({},t.barData)})},handleData:function(a,t,r){if(!r.length)return[];for(var e=[],s=0,n=Object.keys(r[0].data);s<n.length;s++){var o=n[s];e[o]=[];for(var l=function(){var s=c[i];if("day"==a){var n=r.filter(function(a){return a.time==t[s]})[0],l=null==n?0:n.data[o];e[o].push(l)}else{var d=r.filter(function(a){var r=a.time.split("-"),e=r[1]+"/"+r[2];return-1!=t[s].indexOf(e)})[0],u=null==d?0:d.data[o];e[o].push(u)}},i=0,c=Object.keys(t);i<c.length;i++)l()}return e}}},h=r("KHd+"),y=Object(h.a)(v,function(){var a=this,t=a.$createElement,r=a._self._c||t;return r("section",{staticClass:"container-fluid"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[a._v("\n            "+a._s(a.trans("dashboard.summary"))+"\n        ")]),a._v(" "),r("div",{staticClass:"card-body"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-6"},[r("div",{staticClass:"callout callout-secondary"},[r("small",{staticClass:"text-muted"},[a._v(a._s(a.trans("dashboard.players")))]),a._v(" "),r("br"),a._v(" "),r("strong",{staticClass:"h4"},[a._v(a._s(a.players))])])]),a._v(" "),r("div",{staticClass:"col-6"},[r("div",{staticClass:"callout callout-secondary"},[r("small",{staticClass:"text-muted"},[a._v(a._s(a.trans("dashboard.ticket")))]),a._v(" "),r("br"),a._v(" "),r("strong",{staticClass:"h4"},[a._v(a._s(a.players))])])]),a._v(" "),a._l(a.currencys,function(t){return r("div",{key:t,staticClass:"col-xs-12 col-sm-6 col-md-3 col-lg-2"},[r("div",{staticClass:"callout callout-secondary"},[r("small",{staticClass:"text-muted"},[a._v(a._s(t))]),a._v(" "),r("br"),a._v(" "),r("strong",{staticClass:"h4"},[a._v(a._s(a.profit[t].win))])])])})],2)])]),a._v(" "),r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[a._v("\n            "+a._s(a.trans("dashboard.players"))+"\n        ")]),a._v(" "),r("div",{staticClass:"card-body"},[r("b-form-group",[r("b-form-radio-group",{staticClass:"mr-3",attrs:{buttons:"","button-variant":"outline-primary"},model:{value:a.memberCountsType,callback:function(t){a.memberCountsType=t},expression:"memberCountsType"}},[r("b-form-radio",{staticClass:"mx-0",attrs:{value:"day"}},[a._v(a._s(a.trans("dashboard.day")))]),a._v(" "),r("b-form-radio",{staticClass:"mx-0",attrs:{value:"week"}},[a._v(a._s(a.trans("dashboard.week")))]),a._v(" "),r("b-form-radio",{staticClass:"mx-0",attrs:{value:"month"}},[a._v(a._s(a.trans("dashboard.month")))])],1)],1),a._v(" "),r("line-chart",{attrs:{"chart-data":a.lineData}})],1)]),a._v(" "),r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[a._v("\n            "+a._s(a.trans("dashboard.profit"))+"\n        ")]),a._v(" "),r("div",{staticClass:"card-body"},[r("b-form-group",[r("b-form-radio-group",{staticClass:"mr-3",attrs:{buttons:"","button-variant":"outline-primary"},model:{value:a.reportType,callback:function(t){a.reportType=t},expression:"reportType"}},[r("b-form-radio",{staticClass:"mx-0",attrs:{value:"day"}},[a._v(a._s(a.trans("dashboard.day")))]),a._v(" "),r("b-form-radio",{staticClass:"mx-0",attrs:{value:"week"}},[a._v(a._s(a.trans("dashboard.week")))]),a._v(" "),r("b-form-radio",{staticClass:"mx-0",attrs:{value:"month"}},[a._v(a._s(a.trans("dashboard.month")))])],1)],1),a._v(" "),a._l(a.barData,function(t){return r("div",{key:t.currency,staticClass:"card"},[r("div",{staticClass:"card-header"},[a._v("\n                    "+a._s(t.currency)+"\n                ")]),a._v(" "),r("div",{staticClass:"card-body"},[r("bar-chart",{attrs:{"chart-data":t}})],1)])})],2)])])},[],!1,null,null,null);t.default=y.exports}}]);