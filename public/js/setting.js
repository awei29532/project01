(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{l995:function(a,t,e){"use strict";e.r(t);var r;function l(a,t,e){return t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}var s={data:function(){return{data:{auth_mode:0,callback:"",wallet_mode:1,url_balance:"",url_deposit:"",url_withdrawal:"",url_rollback:""},errors:[],password:""}},mounted:function(){this.data=this.getJsonData("setting-data")},methods:(r={submit:function(a){var t=this;a.preventDefault(),this.errors=[],this.$ajax("POST","/api/setting",this.data).then(function(a){location.href="/dashboard"}).catch(function(a){if(422==a.response.status){var e=a.response.data.errors;for(var r in e)e[r]=e[r].join(", ");t.errors=e}else console.warn(a)})},handleErrors:function(a){return void 0===this.errors[a]&&null},cancel:function(){history.back()},regenerateSecret:function(a){var t=this;a.preventDefault(),this.errors=[],this.$ajax("POST","/api/regenerate-secret-code",{password:this.password}).then(function(a){t.$root.$emit("bv::hide::modal","regenerateSecretDialog"),t.regenerateFinish(a)}).catch(function(a){if(422==a.response.status){var e=a.response.data.errors;for(var r in e)e[r]=e[r].join(", ");t.errors=e}else console.warn(a)})},resetModal:function(){this.password="",this.errors.password=null}},l(r,"handleErrors",function(a){return(void 0===this.errors[a]||null==this.errors[a])&&null}),l(r,"regenerateFinish",function(a){this.$bvModal.msgBoxOk(a,{title:this.trans("setting.regenerate-complete"),size:"sm",buttonSize:"sm",okVariant:"success",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0})}),r)},o=e("KHd+"),n=Object(o.a)(s,function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("section",{staticClass:"container-fluid"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("form",{on:{submit:a.submit}},[e("b-form-group",{attrs:{"label-cols-md":"1",label:a.trans("agents.edit_page.auth_mode")}},[e("div",[e("b-form-radio",{attrs:{value:"1",disabled:""},model:{value:a.data.auth_mode,callback:function(t){a.$set(a.data,"auth_mode",t)},expression:"data.auth_mode"}},[a._v(a._s(a.trans("agents.edit_page.auth_by_local")))]),a._v(" "),e("b-form-radio",{attrs:{value:"0",disabled:""},model:{value:a.data.auth_mode,callback:function(t){a.$set(a.data,"auth_mode",t)},expression:"data.auth_mode"}},[a._v(a._s(a.trans("agents.edit_page.auth_by_operator")))])],1),a._v(" "),0==a.data.auth_mode?e("div",{staticClass:"mt-2"},[e("b-form-group",{attrs:{label:a.trans("agents.edit_page.callback_url"),"label-for":"callback-url"}},[e("b-form-input",{attrs:{id:"callback-url",type:"text",state:a.handleErrors("callback"),required:0==a.data.auth_mode},model:{value:a.data.callback,callback:function(t){a.$set(a.data,"callback",t)},expression:"data.callback"}}),a._v(" "),e("b-form-invalid-feedback",[a._v("\r\n                                "+a._s(a.errors.callback)+"\r\n                            ")])],1)],1):a._e()]),a._v(" "),e("b-form-group",{attrs:{"label-cols-md":"1",label:a.trans("agents.edit_page.wallet_mode")}},[e("div",[e("b-form-radio",{attrs:{value:"0",disabled:""},model:{value:a.data.wallet_mode,callback:function(t){a.$set(a.data,"wallet_mode",t)},expression:"data.wallet_mode"}},[a._v(a._s(a.trans("agents.edit_page.multi_wallet")))]),a._v(" "),e("b-form-radio",{attrs:{value:"1",disabled:""},model:{value:a.data.wallet_mode,callback:function(t){a.$set(a.data,"wallet_mode",t)},expression:"data.wallet_mode"}},[a._v(a._s(a.trans("agents.edit_page.single_wallet")))])],1),a._v(" "),1==a.data.wallet_mode?e("div",{staticClass:"mt-2 row"},[e("b-form-group",{staticClass:"col-6",attrs:{label:a.trans("agents.edit_page.balance_url"),"label-for":"balance-url"}},[e("b-form-input",{attrs:{id:"balance-url",type:"text",state:a.handleErrors("url_balance"),required:1==a.data.wallet_mode},model:{value:a.data.url_balance,callback:function(t){a.$set(a.data,"url_balance",t)},expression:"data.url_balance"}}),a._v(" "),e("b-form-invalid-feedback",[a._v("\r\n                                "+a._s(a.errors.url_balance)+"\r\n                            ")])],1),a._v(" "),e("b-form-group",{staticClass:"col-6",attrs:{label:a.trans("agents.edit_page.deposit_url"),"label-for":"deposit-url"}},[e("b-form-input",{attrs:{id:"deposit-url",type:"text",state:a.handleErrors("url_deposit"),required:1==a.data.wallet_mode},model:{value:a.data.url_deposit,callback:function(t){a.$set(a.data,"url_deposit",t)},expression:"data.url_deposit"}}),a._v(" "),e("b-form-invalid-feedback",[a._v("\r\n                                "+a._s(a.errors.url_deposit)+"\r\n                            ")])],1),a._v(" "),e("b-form-group",{staticClass:"col-6",attrs:{label:a.trans("agents.edit_page.withdrawal_url"),"label-for":"withdrawal-url"}},[e("b-form-input",{attrs:{id:"withdrawal-url",type:"text",state:a.handleErrors("url_withdrawal"),required:1==a.data.wallet_mode},model:{value:a.data.url_withdrawal,callback:function(t){a.$set(a.data,"url_withdrawal",t)},expression:"data.url_withdrawal"}}),a._v(" "),e("b-form-invalid-feedback",[a._v("\r\n                                "+a._s(a.errors.url_withdrawal)+"\r\n                            ")])],1),a._v(" "),e("b-form-group",{staticClass:"col-6",attrs:{label:a.trans("agents.edit_page.rollback_url"),"label-for":"rollback-url"}},[e("b-form-input",{attrs:{id:"rollback-url",type:"text",state:a.handleErrors("url_rollback"),required:1==a.data.wallet_mode},model:{value:a.data.url_rollback,callback:function(t){a.$set(a.data,"url_rollback",t)},expression:"data.url_rollback"}}),a._v(" "),e("b-form-invalid-feedback",[a._v("\r\n                                "+a._s(a.errors.url_rollback)+"\r\n                            ")])],1)],1):a._e()]),a._v(" "),e("b-form-group",[e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return a.$bvModal.show("regenerateSecretDialog")}}},[a._v("\r\n                        "+a._s(a.trans("setting.regenerate-secret-code"))+"\r\n                    ")])]),a._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e("i",{staticClass:"fa fa-search"}),a._v(" "+a._s(a.trans("common.submit")))]),a._v(" "),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return a.cancel()}}},[e("i",{staticClass:"fa fa-ban"}),a._v(" "+a._s(a.trans("common.cancel")))])],1)])]),a._v(" "),e("b-modal",{ref:"modal",attrs:{id:"regenerateSecretDialog",title:a.trans("setting.insert-password"),"ok-title":a.trans("common.ok"),"cancel-title":a.trans("common.cancel")},on:{show:a.resetModal,hidden:a.resetModal,ok:a.regenerateSecret}},[e("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),a.regenerateSecret(t)}}},[e("b-form-group",{attrs:{label:a.trans("common.password"),"label-for":"password"}},[e("b-form-input",{attrs:{id:"password",type:"password",state:a.handleErrors("password"),required:""},model:{value:a.password,callback:function(t){a.password=t},expression:"password"}}),a._v(" "),e("b-form-invalid-feedback",[a._v("\r\n                    "+a._s(a.errors.password)+"\r\n                ")])],1)],1)])],1)},[],!1,null,null,null);t.default=n.exports}}]);